# 02.2 Les directives

## Boucles : `v-for`

```html
<p v-for="item in collection" key="item.id">{{message}}</p>
```

### `value`, `key` et `index`

Dans le cas d'un objet on peut récupérer la clé

```js
const sizes = { s: 1, m: 2, l: 3}
```

```html
<p v-for="value, key, index in sizes" >
    {{`${value} - ${key} - ${index}`}}
</p>
```



## Condition : `v-if`

```html
<p v-if="stock > 10">In stock</p>
<p v-else-if="stock <= 10 && stock > 0">Almost sold out!!</p>
<p v-else>Out of stock</p>
```



## `v-show`

```html
<p v-show="inStock">In stock</p>
```

Ne retire pas l'élément du `DOM` mais lui ajoute le style `display: none`.

Utile pour des `tabs` par exemple, cela évite de reconstruire le `DOM`.

## référence vers des éléments `HTML ` : `ref`

```html
<span ref="round"></span>
```

Dans le composant :

```js
let element = this.$refs.round
```



## Les customs directives

On peur créer des directives :

### Globalement

```js
// Enregistrer une directive globale appelée `v-focus`
Vue.directive('focus', {
  // Quand l'élément lié est inséré dans le DOM...
  inserted: function (el) {
    // L'élément prend le focus
    el.focus()
  }
})
```

### Dans un composant

```js
directives: {
  focus: {
    // définition de la directive
    inserted: function (el) {
      el.focus()
    }
  }
}
```

### Dans le `html`

```html
<input v-focus>
```

Pour aller plus loin :

https://fr.vuejs.org/v2/guide/custom-directive.html
